<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="iOSå¼€å‘ã€ReactNativeå¼€å‘ã€AR">
<meta property="og:type" content="website">
<meta property="og:title" content="DragonFlyçš„åšå®¢">
<meta property="og:url" content="http://dragonfly.com/index.html">
<meta property="og:site_name" content="DragonFlyçš„åšå®¢">
<meta property="og:description" content="iOSå¼€å‘ã€ReactNativeå¼€å‘ã€AR">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DragonFlyçš„åšå®¢">
<meta name="twitter:description" content="iOSå¼€å‘ã€ReactNativeå¼€å‘ã€AR">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://dragonfly.com/"/>





  <title>DragonFlyçš„åšå®¢</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-106064035-1', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DragonFlyçš„åšå®¢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">æˆ‘æ›¾ä¸ƒæ¬¡é„™è§†è‡ªå·±çš„çµé­‚</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://dragonfly.com/2017/09/18/ollvm-with-StringObfuscate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DragonFly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DragonFlyçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/18/ollvm-with-StringObfuscate/" itemprop="url">iOSæ··æ·†-ollvmä¸­æ·»åŠ å¯¹Stringçš„æ··æ·†</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-09-18T15:58:09+08:00">
                2017-09-18
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/18/ollvm-with-StringObfuscate/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/18/ollvm-with-StringObfuscate/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>ä¹‹å‰<a href="http://fighting300.github.io/2017/09/07/ollvm-in-iOS/" target="_blank" rel="external">ç ”ç©¶ollvm</a>çš„æ—¶å€™ï¼Œå‘ç°å¼€æºçš„ollvmåº“ä¸­æ²¡æœ‰å¯¹å­—ç¬¦ä¸²æ··æ·†çš„éƒ¨åˆ†ï¼Œä½†æ˜¯å¾ˆå¤šAPPä¸­éƒ½å¯èƒ½ä¼šæœ‰ä¸€äº›éœ€è¦åŠ å¯†çš„å­—ç¬¦ä¸²ã€‚æœºç¼˜å·§åˆå‘ç°ä¸Šæµ·äº¤å¤§çš„GoSSIPå°ç»„å¼€æºäº†ä»–ä»¬è®¾è®¡çš„åŸºäºLLVM4.0çš„<a href="https://github.com/GoSSIP-SJTU/Armariris" target="_blank" rel="external">æ··æ·†æ¡†æ¶</a>,åŠŸèƒ½åŒ…å«å¸¸é‡å­—ç¬¦ä¸²æ··æ·†ä»¥åŠollvmåŸæœ‰çš„ä¸€äº›åŠŸèƒ½ã€‚<a href="https://zhuanlan.zhihu.com/p/27617441" target="_blank" rel="external">è¯¥é¡µé¢</a>æœ‰å…³äºä»–ä»¬é¡¹ç›®çš„ç®€ä»‹ğŸ‘ã€‚<br>ç®€å•åˆ†æå‘ç°å­—ç¬¦ä¸²æ··æ·†çš„éƒ¨åˆ†ä¸»è¦ç”±å­—ç¬¦ä¸²åŠ å¯†çš„Passå®Œæˆï¼Œä¹‹åæˆ‘ä»¬è€ƒè™‘æŠŠå­—ç¬¦ä¸²æ··æ·†çš„åŠŸèƒ½åŠ å…¥ollvmä¸­ï¼Œæ‰€ä»¥æœ¬æ–‡ç®€å•ä»‹ç»ä¸‹å¦‚ä½•å°†å­—ç¬¦ä¸²åŠ å¯†çš„Passç»§æ‰¿åˆ°ollvmä¸­ã€‚Passå…¶å®å¯ä»¥ç®€å•çš„ç†è§£ä¸ºLLVMä¼˜åŒ–ï¼è½¬æ¢å·¥ä½œçš„ä¸€ä¸ªæœ€å°å•å…ƒï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„æ··æ·†å·¥ä½œéƒ½æ˜¯ç”±ä¸€ä¸ªä¸€ä¸ªPassç»„æˆçš„ï¼Œæƒ³è¦åšå…·ä½“çš„äº†è§£ï¼Œå¯ä»¥çœ‹ä¸‹ä»¥ä¸‹<a href="http://www.nagain.com/activity/article/14/" target="_blank" rel="external">ä¸“æ çš„æ–‡ç« </a>ã€‚</p>
<h4 id="Passé›†æˆ"><a href="#Passé›†æˆ" class="headerlink" title="Passé›†æˆ"></a>Passé›†æˆ</h4><p>é¦–å…ˆæå–å­—ç¬¦ä¸²åŠ å¯†æ–‡ä»¶å¯¹åº”passæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸ºlib/Transform/Obfuscationã€‚<br><img src="http://ojca2gwha.bkt.clouddn.com/ollvm-string-cpp.png" alt="passæ–‡ä»¶ç›®å½•"></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/09/18/ollvm-with-StringObfuscate/#more" rel="contents">
              é˜…è¯»å…¨æ–‡ &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://dragonfly.com/2017/09/14/iOS11-UI-adjust/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DragonFly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DragonFlyçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/14/iOS11-UI-adjust/" itemprop="url">iOS11/iPhoneXæœ€æ–°é€‚é…æŒ‡å—</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-09-14T11:47:19+08:00">
                2017-09-14
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/14/iOS11-UI-adjust/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/14/iOS11-UI-adjust/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æ–°ç‰ˆiPhoneå‘å¸ƒä¼šå‰ï¼Œå°±éšéšæ„Ÿè§‰åˆ°ä¸€æ³¢é€‚é…å·¥ä½œè¦è¢­æ¥çš„èµ¶è„šï¼Œæœç„¶ä¸å‡ºæ‰€æ–™ï¼Œä¸‹é¢ç®€å•åˆ†äº«ä¸‹åœ¨æ•´ç†è¿‡ç¨‹ä¸­å‘ç°çš„é€‚é…æ³¨æ„ç‚¹ã€‚(é€‚é…å·¥ä½œä¸»è¦åœ¨UIæ–¹é¢ï¼Œåç»­å‘ç°çš„é€‚é…ç‚¹ä¼šé™†ç»­è¡¥å……åˆ°è¯¥æ–‡æ¡£ä¸­)</p>
<h4 id="ç‰ˆæœ¬åˆ¤æ–­API"><a href="#ç‰ˆæœ¬åˆ¤æ–­API" class="headerlink" title="ç‰ˆæœ¬åˆ¤æ–­API"></a>ç‰ˆæœ¬åˆ¤æ–­API</h4><p>iOS11 ç‰ˆæœ¬åˆ¤æ–­<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">if (@available(iOS 11.0, *)) &#123;</div><div class="line">  // ç‰ˆæœ¬é€‚é…</div><div class="line">&#125;</div><div class="line">// æˆ–è€…</div><div class="line">#ifdef __IPHONE_11_0   </div><div class="line">#endif</div></pre></td></tr></table></figure></p>
<p>ç›®å‰æ²¡å‘ç°æœ‰iPhoneXçš„æœºå‹åˆ¤æ–­APIï¼Œç›®å‰å¯ä»¥ä½¿ç”¨sizeæ¥åšä»£æ›¿åˆ¤æ–­ã€‚  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">  if (UIScreen.mainScreen.bounds.size.height == 812) &#123;</div><div class="line">      NSLog(@&quot;this is iPhone X&quot;);</div><div class="line">  &#125;</div><div class="line">```  </div><div class="line"></div><div class="line">#### UIé€‚é…  </div><div class="line"></div><div class="line">å¦‚æœä¹‹å‰çš„APPåœ¨iPhoneXå±å¹•æ²¡å¡«å……æ»¡ï¼Œä¸Šä¸‹æœ‰é»‘è‰²åŒºåŸŸï¼Œåº”è¯¥æ˜¯ä½ çš„appä¹‹å‰æœªç”¨LaunchScreen.Storyboardä½œä¸ºå¯åŠ¨é¡µé¢ï¼Œå¯ä»¥ä½¿ç”¨LaunchScreenæ¥å½“åšå…¥åœºé¡µé¢ï¼Œè¿™æ ·APPæ‰ä¼šè‡ªåŠ¨é€‚é…ä¸ºiPhoneXçš„å¤§å°ã€‚æˆ–è€…ä¿®æ”¹Assetsä¸­çš„LaunchImageï¼Œæ·»åŠ iPhoneXçš„å°ºå¯¸å›¾å¦‚ä¸‹(1125*2436)ã€‚</div><div class="line"></div><div class="line">![LuanchImageé€‚é…](http://ojca2gwha.bkt.clouddn.com/iOS11-adjust-launch.png)  </div><div class="line"></div><div class="line">##### å¯¼èˆªæ é€‚é…  </div><div class="line"></div><div class="line">iPhoneXç”±äºå¤šäº†å¤§åœ†è§’ã€ä¼ æ„Ÿå™¨(é½åˆ˜æµ·)ä»¥åŠåº•éƒ¨è®¿é—®ä¸»å±å¹•çš„æŒ‡ç¤ºé®æŒ¡ï¼Œæ‰€ä»¥éœ€è¦æ³¨æ„åŸæœ‰è¿™éƒ¨åˆ†å†…å®¹çš„è®¾è®¡ã€‚</div><div class="line">iOS11å‰å¯¼èˆªæ çš„é«˜åº¦æ˜¯64ï¼Œå…¶ä¸­statusBarçš„é«˜åº¦ä¸º20ï¼Œè€ŒiPhoneXçš„statusBaré«˜åº¦å˜ä¸ºäº†44ï¼Œå¦‚æœæ˜¯è‡ªå®šä¹‰çš„NaviBarï¼Œè¿™éƒ¨åˆ†éœ€è¦åšç›¸åº”çš„é€‚é…ã€‚</div><div class="line">å¯èƒ½æœ‰éƒ¨åˆ†APPä½¿ç”¨äº†RNæ¥å®ç°é¡µé¢ï¼Œä¸è¦å¿˜äº†åœ¨RNä¸­ä¿®æ”¹ç›¸åº”NaviBarçš„é«˜åº¦ã€‚</div><div class="line"></div><div class="line">&lt;!--more--&gt;</div><div class="line"></div><div class="line">##### å®‰å…¨åŒºåŸŸé€‚é…</div><div class="line"></div><div class="line">iPhoneXçš„åº•éƒ¨ç”±äºå®‰å…¨åŒºåŸŸçš„åŸå› tabBarçš„é«˜åº¦ç”±49å˜ä¸º83ï¼Œæ‰€ä»¥è‡ªå®šä¹‰çš„åº•éƒ¨TabBarä¹Ÿéœ€è¦éœ€æ”¹å…¶é€‚é…æ–¹æ¡ˆã€‚</div><div class="line">å¦‚æœä½ çš„appç”¨äº†ç³»ç»Ÿçš„NavigationBarï¼Œåˆ™å¯ä»¥ç›´æ¥è®¾ç½®additionalSafeAreaInsetsæ¥é€‚é…ç•Œé¢ã€‚</div></pre></td></tr></table></figure>
<p>  self.additionalSafeAreaInsets = UIEdgeInsetsMake(-44, 0, -34, 0);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">##### UIScrollView &amp; UITableView</div><div class="line"></div><div class="line">æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°tableViewä¼šæœ‰20pt/64ptçš„åç§»ï¼Œå…¶åŸå› æ˜¯ç”±äºiOS 11åºŸå¼ƒäº†UIViewControllerçš„automaticallyAdjustsScrollViewInsetså±æ€§ï¼Œæ–°å¢äº†contentInsetAdjustmentBehaviorå±æ€§ï¼Œæ‰€ä»¥å½“è¶…å‡ºå®‰å…¨åŒºåŸŸæ—¶ç³»ç»Ÿè‡ªåŠ¨è°ƒæ•´äº†SafeAreaInsetsï¼Œè¿›è€Œå½±å“äº†adjustedContentInsetï¼Œåœ¨iOS11ä¸­å†³å®štableViewå†…å®¹ä¸è¾¹ç¼˜è·ç¦»çš„æ˜¯adjustedContentInsetï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®UIScrollViewçš„contentInsetAdjustmentBehaviorå±æ€§ã€‚</div><div class="line">å¯ä»¥ç›´æ¥ä½¿ç”¨ä»¥ä¸‹ä»£ç åšé€‚é…ï¼š</div></pre></td></tr></table></figure></p>
<p>  #ifdef __IPHONE_11_0<br>  if ([tableView respondsToSelector:@selector(setContentInsetAdjustmentBehavior:)]) {<br>    tableView.contentInsetAdjustmentBehavior = UIScrollViewContentInsetAdjustmentNever;<br>  }</p>
<p>  #endif<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">åœ¨é€‚é…è¿‡ç¨‹ä¸­å‘ç°UITableViewä¼šåœ¨Headerï¼Footerè¿”å›sizeä¸ºè´Ÿå€¼çš„æƒ…å†µä¸‹ä¼š(ä¹‹å‰é—æ¼çš„bug)å´©æºƒï¼Œè¿™å—å¯ä»¥è‡ªæŸ¥ä¸‹ï¼Œè€ŒiOS11ä¹‹å‰çš„ç‰ˆæœ¬ä¸ä¼šã€‚</div><div class="line"></div><div class="line">![iPhoneXå°ºå¯¸](http://ojca2gwha.bkt.clouddn.com/iOS11-iPhoneX.png)</div><div class="line"></div><div class="line">å¦å¤–æœ‰äººå¯¹iPhoneXæ•´ä¸ªUIWindowåšäº†å†…å®¹çš„è°ƒæ•´ï¼Œåªæ˜¯UIè¿˜æ˜¯æœ‰ç‚¹ä¸‘ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»çœ‹çœ‹[è¯¥GitHub](https://github.com/HarshilShah/NotchKit);</div><div class="line"></div><div class="line">#### APIé€‚é…</div><div class="line"></div><div class="line">##### LocalAuthentication æœ¬åœ°è®¤è¯    </div><div class="line"></div><div class="line">æœ¬åœ°è®¤è¯æ¡†æ¶æä¾›äº†ä»å…·æœ‰æŒ‡å®šå®‰å…¨ç­–ç•¥(å¯†ç æˆ–ç”Ÿç‰©å­¦ç‰¹å¾)çš„ç”¨æˆ·è¯·æ±‚èº«ä»½éªŒè¯çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œè¦æ±‚ç”¨æˆ·ä»…ä½¿ç”¨Face IDæˆ–Touch IDè¿›è¡Œèº«ä»½éªŒè¯ï¼Œå¯ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š</div></pre></td></tr></table></figure></p>
<p>  let myContext = LAContext()<br>  let myLocalizedReasonString = &lt;#String explaining why app needs authentication#&gt;</p>
<p>  var authError: NSError?<br>  if #available(iOS 8.0, macOS 10.12.1, *) {<br>      if myContext.canEvaluatePolicy(.deviceOwnerAuthenticationWithBiometrics, error: &amp;authError) {<br>          myContext.evaluatePolicy(.deviceOwnerAuthenticationWithBiometrics, localizedReason: myLocalizedReasonString) { success, evaluateError in<br>              if success {<br>                  // ç”¨æˆ·éªŒè¯é€šè¿‡<br>              } else {<br>                  // ç”¨æˆ·éªŒè¯å¤±è´¥ï¼Œå¤„ç†å¤±è´¥ä¿¡æ¯<br>              }<br>          }<br>      } else {<br>          // ä¸èƒ½æ‰§è¡Œç­–ç•¥éªŒè¯ï¼Œå¤„ç†éªŒè¯é”™è¯¯ä¿¡æ¯<br>      }<br>  } else {<br>      // Fallback on earlier versions<br>  }</p>
<p>```</p>
<p>LAContextæ–°å¢APIå¦‚ä¸‹ï¼š  </p>
<ol>
<li>biometryTypeå±æ€§è¿”å›å½“å‰è®¾å¤‡æ”¯æŒçš„ç”Ÿç‰©å­¦ç‰¹å¾éªŒè¯æ–¹å¼ï¼Œä»–çš„å€¼å¯ä»¥åˆ†åˆ«ä¸ºtypeFaceIDã€typeTouchIDæˆ–è€…noneã€‚  </li>
<li>localizedReasonéœ€è¦éªŒè¯æ—¶å±•ç¤ºåœ¨å¼¹æ¡†ä¸Šçš„æç¤ºä¿¡æ¯</li>
</ol>
<h5 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h5><ol>
<li><a href="https://developer.apple.com/videos/fall2017/" target="_blank" rel="external">https://developer.apple.com/videos/fall2017/</a></li>
<li><a href="https://developer.apple.com/iphone/" target="_blank" rel="external">https://developer.apple.com/iphone/</a></li>
</ol>
<h5 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h5><p>iPhone X ä¾§è¾¹æŒ‰é’®çš„ä½¿ç”¨æ–¹å¼ï¼š  </p>
<ul>
<li>æŒ‰ä¸€ä¸‹é”å±ï¼›</li>
<li>æŒ‰ä¸¤ä¸‹ Apple Payï¼›</li>
<li>æŒ‰ä¸‰ä¸‹è¾…åŠ©åŠŸèƒ½å¿«æ·é”®ï¼ˆæ¯”å¦‚ VoiceOverï¼‰ï¼›</li>
<li>æŒ‰äº”ä¸‹ SOSï¼›</li>
<li>çŸ­æŒ‰ Siriï¼›</li>
<li>é•¿æŒ‰å…³æœºï¼›</li>
<li>æŒ‰ä¸€ä¸‹+Volume Up æˆªå±ã€‚</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://dragonfly.com/2017/09/13/ARKit-Face/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DragonFly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DragonFlyçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/13/ARKit-Face/" itemprop="url">ARKit-åŸºäºFaceçš„ARä½“éªŒ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-09-13T11:58:19+08:00">
                2017-09-13
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/13/ARKit-Face/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/13/ARKit-Face/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Appleæ˜¨æ™šå‘å¸ƒäº†å¼ºå¤§ä½†æ˜¯æ­»è´µæ— æ¯”çš„iPhoneXï¼ŒæƒŠå‘†äº†æˆ‘ä»¬ã€‚ç„¶ååªèƒ½é»˜é»˜å»åˆ·äº†ä¸‹APIï¼Œå‘ç°ARKitæ–°æ·»äº†åŸºäºFaceçš„APIã€‚<br>ä¹‹å‰çš„ç‰ˆæœ¬ä¸­å‰ç½®æ‘„åƒå¤´æ˜¯ä¸æ”¯æŒAKKitæ¨¡å—çš„ï¼Œå¹¸è€Œæ–°å‘å¸ƒçš„ç‰ˆæœ¬ä¸­æ·»åŠ äº†å¯¹Faceè¯†åˆ«çš„æ”¯æŒï¼Œç„¶è€Œæ–°çš„APIéœ€è¦åŸå‰ç½®æ·±æ„Ÿæ‘„åƒå¤´(TrueDepth Camera)çš„æ”¯æŒï¼Œæ‰€ä»¥çœ‹æ¥è¿˜å¾—å…¥æ‰‹ä¸€å°iPhone Xå‘ã€‚</p>
<p><img src="http://ojca2gwha.bkt.clouddn.com/ARKit-iPhoneX.jpg" alt="iPhoneX">  </p>
<h4 id="æ–°å¢API"><a href="#æ–°å¢API" class="headerlink" title="æ–°å¢API"></a>æ–°å¢API</h4><p>é¦–å…ˆæ–°å¢äº†ARFaceTrackingConfigurationï¼Œä»¥ç”¨äºè¿½è¸ªç”¨æˆ·è„¸éƒ¨çš„è¿åŠ¨å’Œè¡¨æƒ…ï¼Œå¹¶åœ¨ç•Œé¢ä¸­æ¸²æŸ“è™šæ‹Ÿå†…å®¹ã€‚æ­¤å¤–ä½ è¿˜å¯ä»¥è®¾ç½®lightEstimationEnabledä¸ºtrueï¼Œæ¥å¯ç”¨è„¸éƒ¨æ‰«æå¹¶æä¾›é¢„ä¼°çš„å®šå‘/ç¯å¢ƒå…‰ã€‚</p>
<p>å…¶æ¬¡è¿˜æ–°å¢äº†ARFaceAnchorï¼Œè¿™ä¸¤ä¸ªæ–°APIä¸ä¹‹å‰çš„ARWorldTrackingConfigurationå’ŒARPlaneAnchorç±»ä¼¼ï¼Œåªæ˜¯åŸºäºå¹³é¢çš„æ£€æµ‹æ”¹ä¸ºäº†åŸºäºFaceçš„æ£€æµ‹ï¼Œæ¶è¶£å‘³ä¸‹Appleä¼šä¸ä¼šç»§ç»­æ‰©å±•ä»–çš„æ£€æµ‹APIã€‚ã€‚ã€‚å½“ä½¿ç”¨ARFaceTrackingConfigurationæ—¶ï¼ŒARSessionä¼šæ£€æµ‹ç”¨æˆ·é¢éƒ¨å¹¶ä¸”ç”¨ARFaceAnchorä¿å­˜é¢éƒ¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä½ç½®ã€æ–¹å‘ã€æ‹“æ‰‘ç»“æ„ä»¥åŠè¡¨æƒ…ç‰¹å¾ç‚¹ã€‚</p>
<p>ARFaceAnchorçš„transformå±æ€§æè¿°äº†é¢éƒ¨åœ¨ä¸–ç•Œåæ ‡ç³»ä¸­çš„æ‰€åœ¨ä½ç½®å’Œæ–¹å‘ï¼Œè¯¥ä¸–ç•Œåæ ‡ç³»å¯ä»¥åœ¨ARSessionConfigurationçš„wordlAlignmentä¸­è®¾ç½®ã€‚å¯ä»¥ä½¿ç”¨è¯¥transformåœ¨ARSceneæ£€æµ‹åˆ°çš„é¢éƒ¨ä¸Šæ·»åŠ è™šæ‹Ÿç‰©ä½“ã€‚åæ ‡ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://ojca2gwha.bkt.clouddn.com/ARKit-face-Coordinate.png" alt="ARKit Face coordinate"></p>
<p>è¯¥åæ ‡ç³»ä¸ºå³æ‰‹åæ ‡ç³»ï¼Œxè½´åªæƒ³è§‚å¯Ÿè€…çš„å³è¾¹(å³faceè‡ªå·±çš„å·¦è¾¹)ï¼Œyè½´æŒ‡å‘ä¸Šè¾¹(ä¸faceç»‘å®š)ï¼Œzè½´æŒ‡å‘äº†è§‚å¯Ÿè€…ã€‚</p>
<p>ARFaceAnchorçš„blendShapeså±æ€§æä¾›äº†å½“å‰é¢éƒ¨è¡¨æƒ…çš„é«˜çº§æ•°æ®ï¼Œé€šè¿‡ä¸€ç³»åˆ—è¡¨ç¤ºé¢éƒ¨ç‰¹å¾çš„ç³»æ•°æ¥æè¿°é¢éƒ¨è¡¨æƒ…ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™äº›ç³»æ•°è·Ÿéšç”¨æˆ·çš„é¢éƒ¨è¡¨æƒ…æ¥åš2D/3DåŠ¨ç”»ï¼Œ</p>
<h4 id="å¼€å§‹é¢éƒ¨è·Ÿè¸ª"><a href="#å¼€å§‹é¢éƒ¨è·Ÿè¸ª" class="headerlink" title="å¼€å§‹é¢éƒ¨è·Ÿè¸ª"></a>å¼€å§‹é¢éƒ¨è·Ÿè¸ª</h4><p>å’ŒARKitçš„å…¶ä»–ç”¨æ³•ä¸€æ ·ï¼Œé¢éƒ¨è¿½è¸ªéœ€è¦ARSessionConfigurationå¹¶è¿è¡Œä¸€ä¸ªARSessionæ¥æ¸²æŸ“ç›¸æœºå±å¹•ï¼Œè¿™éƒ¨åˆ†å¯ä»¥å‚è€ƒ<a href="httpbai.ducom">ä¹‹å‰åˆ†äº«çš„æ–‡ç« </a>ï¼Œæµç¨‹ä¸€è‡´ï¼Œåªæ˜¯è¿™éƒ¨åˆ†éœ€è¦ä½¿ç”¨åˆ°æ–°åŠ çš„APIã€‚<br>å¦‚å‰é¢æ‰€è¯´ï¼Œé¢éƒ¨æ£€æµ‹åªæ”¯æŒé…ç½®äº†åŸå‰ç½®æ·±æ„Ÿæ‘„åƒå¤´(TrueDepth Camera)çš„iPhoneï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦åˆ¤æ–­å½“å‰è®¾å¤‡æ˜¯å¦æ”¯æŒARFaceTrackingConfigurationã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// å¦‚æœè®¾å¤‡æ”¯æŒçš„åˆ¤æ–­é€šè¿‡ ç„¶åé…ç½®Session Configuration</div><div class="line">guard ARFaceTrackingConfiguration.isSupported else &#123; return &#125;</div><div class="line">let configuration = ARFaceTrackingConfiguration()</div><div class="line">configuration.isLightEstimationEnabled = true</div><div class="line">session.run(configuration, options: [.resetTracking, .removeExistingAnchors])</div></pre></td></tr></table></figure>
<h4 id="è·Ÿè¸ªè„¸éƒ¨ä½ç½®å’Œæ–¹å‘"><a href="#è·Ÿè¸ªè„¸éƒ¨ä½ç½®å’Œæ–¹å‘" class="headerlink" title="è·Ÿè¸ªè„¸éƒ¨ä½ç½®å’Œæ–¹å‘"></a>è·Ÿè¸ªè„¸éƒ¨ä½ç½®å’Œæ–¹å‘</h4><p>å½“é¢éƒ¨è·Ÿè¸ªå¯ç”¨åï¼ŒARKitä¼šè‡ªåŠ¨çš„æ·»åŠ ARFaceAnchoråˆ°ARSessionä¸­ï¼ŒåŒ…æ‹¬å…¶ä½ç½®å’Œæ–¹å‘ã€‚  </p>
<blockquote>
<p>æ³¨æ„ARKitç›®å‰åªèƒ½è¿½è¸ªå•ä¸ªç”¨æˆ·çš„é¢éƒ¨ï¼Œå¦‚æœå¤šä¸ªç”¨æˆ·åŒæ—¶å‡ºç°åœ¨é•œå¤´ä¸­ï¼Œåˆ™å–æœ€å¤§æˆ–è€…æœ€æ¸…æ™°çš„å¯è¯†åˆ«é¢éƒ¨</p>
</blockquote>
<p>ä½ å¯ä»¥åœ¨ä»£ç†æ–¹æ³•<code>renderer:didAddNode:forAnchor:</code>(ARSCNViewDelegateåè®®)ä¸­ç»™ä¸€ä¸ªfaceé”šç‚¹æ·»åŠ ç›¸åº”3Då†…å®¹ã€‚ä»–ä¼šè·Ÿéšç”¨æˆ·çš„é¢éƒ¨åŠ¨ä½œåšç›¸åº”çš„ä½ç½®å’Œæ–¹å‘è°ƒæ•´ã€‚  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">func renderer(_ renderer: SCNSceneRenderer, didAdd node: SCNNode, for anchor: ARAnchor) &#123;</div><div class="line">    let device = sceneView.device!</div><div class="line">    let maskGeometry = ARSCNFaceGeometry(device: device)!</div><div class="line">    let content = SCNNode(geometry:maskGeometry)</div><div class="line">    node.addChildNode(content)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="ä½¿ç”¨Face-Geometryæ¥æ¨¡æ‹Ÿç”¨æˆ·é¢éƒ¨"><a href="#ä½¿ç”¨Face-Geometryæ¥æ¨¡æ‹Ÿç”¨æˆ·é¢éƒ¨" class="headerlink" title="ä½¿ç”¨Face Geometryæ¥æ¨¡æ‹Ÿç”¨æˆ·é¢éƒ¨"></a>ä½¿ç”¨Face Geometryæ¥æ¨¡æ‹Ÿç”¨æˆ·é¢éƒ¨</h5><p>ARKitæä¾›äº†ç²—ç²’åº¦çš„3Dç½‘çŠ¶å‡ ä½•ä½“ï¼Œæ¥åŒ¹é…ç”¨æˆ·çš„é¢éƒ¨å¤§å°ã€å½¢æ€ã€æ‹“æ‰‘ç»“æ„ä»¥åŠå½“å‰é¢éƒ¨è¡¨æƒ…ï¼Œå½“ç„¶ARKitè¿˜æä¾›äº†ARSCNFaceGeometryç±»æ¥å¿«æ·çš„åˆå§‹åŒ–è¯¥ç½‘æ ¼ã€‚ä½ å¯ä»¥åœ¨ç”¨æˆ·çš„çš®è‚¤ä¸Šé€šè¿‡ç»™ç½‘çŠ¶æ¨¡å‹æ·»åŠ æè´¨æ¥ç»˜åˆ¶è™šæ‹Ÿçš„åˆºé’æˆ–è€…é¢å…·ç­‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let device = sceneView.device!</div><div class="line">let maskGeometry = ARSCNFaceGeometry(device: device)!</div></pre></td></tr></table></figure>
<p>ä¸ºäº†è®©å±å¹•ä¸­é¢éƒ¨æ¨¡å‹åŒ¹é…ç”¨æˆ·çš„è„¸éƒ¨ï¼Œç”šè‡³è·Ÿéšç”¨æˆ·çš„çœ¨çœ¼ã€è¯´è¯æˆ–è€…æ›´å¤šçš„è¡¨æƒ…åŠ¨ä½œï¼Œéœ€è¦åœ¨ä»£ç†æ–¹æ³•ä¸­æ›´æ–°è¯¥é¢éƒ¨æ¨¡å‹çš„æ•°æ®ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">func renderer(_ renderer: SCNSceneRenderer, didUpdate node: SCNNode, for anchor: ARAnchor) &#123;</div><div class="line">    guard let faceAnchor = anchor as? ARFaceAnchor else &#123; return &#125;</div><div class="line"></div><div class="line">    let faceGeometry = content.geometry as! ARSCNFaceGeometry</div><div class="line">    faceGeometry.update(from: anchor.geometry)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h5 id="åœ¨é¢éƒ¨å‘ˆç°3Då†…å®¹"><a href="#åœ¨é¢éƒ¨å‘ˆç°3Då†…å®¹" class="headerlink" title="åœ¨é¢éƒ¨å‘ˆç°3Då†…å®¹"></a>åœ¨é¢éƒ¨å‘ˆç°3Då†…å®¹</h5><p>ARKitæä¾›çš„é¢éƒ¨ç½‘æ ¼çš„å¦ä¸€ä¸ªç”¨é€”æ˜¯åœ¨åœºæ™¯ä¸­åˆ›å»ºé®æŒ¡å‡ ä½•ä½“ã€‚é®æŒ¡å‡ ä½•ä½“æ˜¯ä¸ä¼šå‘ˆç°ä»»ä½•å¯è§å†…å®¹ï¼ˆå…è®¸ç›¸æœºå›¾åƒæ˜¾ç¤ºï¼‰çš„3Dæ¨¡å‹ï¼Œä½†ä¼šé˜»ç¢ç›¸æœºå¯¹åœºæ™¯ä¸­å…¶ä»–è™šæ‹Ÿå†…å®¹çš„è§†å›¾ã€‚è¿™ç§æŠ€æœ¯åˆ›é€ å‡ºçœŸå®é¢å¯¹ä¸è™šæ‹Ÿå¯¹è±¡äº¤äº’çš„é”™è§‰ï¼Œå³ä½¿è„¸éƒ¨æ˜¯2Dæ‘„åƒæœºå›¾åƒï¼Œè™šæ‹Ÿå†…å®¹æ˜¯æ¸²æŸ“çš„3Då¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å°†é®æŒ¡å‡ ä½•å›¾å½¢å’Œè™šæ‹Ÿçœ¼é•œæ”¾ç½®åœ¨ç”¨æˆ·çš„è„¸éƒ¨ä¸Šï¼Œåˆ™è„¸éƒ¨å¯èƒ½ä¼šçœ¼é•œæ¡†æ¶é®æŒ¡ã€‚<br>è¦åˆ›å»ºé¢éƒ¨çš„é®æŒ¡å‡ ä½•ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªARSCNFaceGeometryå¯¹è±¡ï¼Œå¦‚å‰é¢çš„ä¾‹å­æ‰€ç¤ºã€‚ä½†æ˜¯ï¼Œä¸è¦ä½¿ç”¨å¯è§çš„å¤–è§‚æ¥é…ç½®è¯¥å¯¹è±¡çš„SceneKitæè´¨ï¼Œè€Œæ˜¯åœ¨æ¸²æŸ“æœŸé—´å°†æè´¨è®¾ç½®ä¸ºæ¸²æŸ“æ·±åº¦è€Œä¸æ˜¯é¢œè‰²ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let geometry = SCNGeometry()</div><div class="line">geometry.firstMaterial!.colorBufferWriteMask = []</div><div class="line">occlusionNode = SCNNode(geometry: geometry)</div><div class="line">occlusionNode.renderingOrder = -1</div></pre></td></tr></table></figure>
<h5 id="è®©ä½ çš„å½¢è±¡åŠ¨èµ·æ¥"><a href="#è®©ä½ çš„å½¢è±¡åŠ¨èµ·æ¥" class="headerlink" title="è®©ä½ çš„å½¢è±¡åŠ¨èµ·æ¥"></a>è®©ä½ çš„å½¢è±¡åŠ¨èµ·æ¥</h5><p>è¦è·å–å½“å‰ç”¨æˆ·çš„é¢éƒ¨è¡¨æƒ…ï¼Œéœ€è¦åœ¨ä»£ç†æ–¹æ³•renderer:didUpdateNode:forAnchor:ä¸­ä»ARFaceAnchorçš„blendShapesä¸­è¯»å–æ•°æ® ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">func renderer(_ renderer: SCNSceneRenderer, didUpdate node: SCNNode, for anchor: ARAnchor) &#123;</div><div class="line">    blendShapes = faceAnchor.blendShapes</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç„¶åï¼ŒæŸ¥çœ‹è¯¥å­—å…¸ä¸­çš„é”®å€¼å¯¹ä»¥è®¡ç®—æ¨¡å‹çš„åŠ¨ç”»å‚æ•°ã€‚è¯¥å­—å…¸ä¸­æœ‰52ä¸ªç‹¬ç‰¹çš„ARBlendShapeLocationç³»æ•°ã€‚ä½ å¯ä»¥ä½¿ç”¨å°½å¯èƒ½å°‘çš„æˆ–å¾ˆå¤šçš„å¿…è¦æ¡ä»¶æ¥åˆ›å»ºæƒ³è¦çš„è‰ºæœ¯æ•ˆæœã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼ŒRobotHeadç±»æ‰§è¡Œæ­¤è®¡ç®—ï¼Œæ˜ å°„ARBlendShapeLocationEyeBlinkLeftå’ŒARBlendShapeLocationEyeBlinkRightå‚æ•°åˆ°æœºå™¨äººçœ¼ç›çš„scaleå‚æ•°ï¼Œç”¨ARBlendShapeLocationJawOpenå‚æ•°ä»¥è®¡ç®—æœºå™¨äººä¸Šé¢Œæ‰€åœ¨çš„ä½ç½®ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var blendShapes: [ARFaceAnchor.BlendShapeLocation: Any] = [:] &#123;</div><div class="line">    didSet &#123;</div><div class="line">        guard let eyeBlinkLeft = blendShapes[.eyeBlinkLeft] as? Float,</div><div class="line">            let eyeBlinkRight = blendShapes[.eyeBlinkRight] as? Float,</div><div class="line">            let jawOpen = blendShapes[.jawOpen] as? Float</div><div class="line">            else &#123; return &#125;</div><div class="line">        eyeLeftNode.scale.z = 1 - eyeBlinkLeft</div><div class="line">        eyeRightNode.scale.z = 1 - eyeBlinkRight</div><div class="line">        jawNode.position.y = originalJawY - jawHeight * jawOpen</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å…ˆç®€å•ä»‹ç»åˆ°è¿™å„¿ï¼ŒçœŸæ­£è¦çœ‹åˆ°æ•ˆæœè¿˜å¾—å…¬å¸çš„åœŸè±ªä»¬å…¥æ‰‹iPhone Xä¹‹åå•¦ï¼Œä¸è¿‡åŸºæœ¬ç”¨æ³•å¾ˆç®€å•ï¼Œç»´æŒäº†ARKitæ˜“ç”¨çš„ç‰¹æ€§ã€‚</p>
<p><img src="http://ojca2gwha.bkt.clouddn.com/ARKit-Jobs.jpg" alt="è‡´æ•¬Jobs"></p>
<h6 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h6><ol>
<li><a href="https://developer.apple.com/documentation/arkit/arfacetrackingconfiguration?language=objc" target="_blank" rel="external">https://developer.apple.com/documentation/arkit/arfacetrackingconfiguration?language=objc</a></li>
<li><a href="https://developer.apple.com/documentation/arkit/creating_face_based_ar_experiences?language=objc" target="_blank" rel="external">https://developer.apple.com/documentation/arkit/creating_face_based_ar_experiences?language=objc</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://dragonfly.com/2017/09/12/ARKit-Plane-Detector/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DragonFly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DragonFlyçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/12/ARKit-Plane-Detector/" itemprop="url">ARKit ä¸Šæ‰‹æŒ‡å— 02 å¹³é¢æ£€æµ‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-09-12T20:53:07+08:00">
                2017-09-12
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/12/ARKit-Plane-Detector/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/12/ARKit-Plane-Detector/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä¸Šä¸€å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬åœ¨ARKitè™šæ‹Ÿä¸–ç•Œä¸­æ·»åŠ äº†3Dç‰©ä½“ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¼šä½¿ç”¨ARKitæ£€æµ‹ç°å®ä¸–ç•Œçš„å¹³é¢ã€‚è¿™æ ·æˆ‘ä»¬æ‰èƒ½åœ¨å¹³é¢ä¸Šæ”¾ç½®ç‰©ä½“ä»¥åŠè¿›è¡Œå…¶ä»–æ“ä½œã€‚</p>
<h4 id="æ£€æµ‹å¹³é¢"><a href="#æ£€æµ‹å¹³é¢" class="headerlink" title="æ£€æµ‹å¹³é¢"></a>æ£€æµ‹å¹³é¢</h4><p>å¦‚æœè¦åœ¨ARKitç©ºé—´é‡Œæ£€æµ‹æ°´å¹³é¢ï¼Œéœ€è¦è®¾ç½®ARSessionConfigurationçš„planeDetectionå±æ€§ä¸ºARPlaneDetectionHorizontalã€‚è®¾ç½®å®Œåï¼ŒARSceneViewçš„delegateæ–¹æ³•ä¼šæ”¶åˆ°å›è°ƒã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">func renderer(_ renderer: SCNSceneRenderer, didAdd node: SCNNode, for anchor: ARAnchor) &#123;</div><div class="line">    DispatchQueue.main.async &#123;</div><div class="line">        if let planeAnchor = anchor as? ARPlaneAnchor &#123;</div><div class="line">            self.addPlane(node: node, anchor: planeAnchor)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p>æ¯æ¬¡ARKitè®¤ä¸ºæ£€æµ‹åˆ°å¹³é¢æ—¶éƒ½ä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªARAnchorå¯¹è±¡ï¼ŒåŒ…å«å½“å‰æ£€æµ‹å¹³é¢é”šç‚¹ï¼Œå…¶çœŸæ­£ç±»å‹æ˜¯ARPlaneAnchorï¼Œæ‹¥æœ‰extent(èŒƒå›´)ã€center(ä¸­å¿ƒ)ç­‰å±æ€§ä¿¡æ¯ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">open class ARPlaneAnchor : ARAnchor &#123;</div><div class="line">    // The alignment of the plane.</div><div class="line">    open var alignment: ARPlaneAnchor.Alignment &#123; get &#125;</div><div class="line"></div><div class="line">    // The center of the plane in the anchorâ€™s coordinate space.</div><div class="line">    open var center: vector_float3 &#123; get &#125;</div><div class="line"></div><div class="line">	 // The extent of the plane in the anchorâ€™s coordinate space.</div><div class="line">    open var extent: vector_float3 &#123; get &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="æ¸²æŸ“å¹³é¢"><a href="#æ¸²æŸ“å¹³é¢" class="headerlink" title="æ¸²æŸ“å¹³é¢"></a>æ¸²æŸ“å¹³é¢</h4><p>æ ¹æ®ç¬¬ä¸€æ­¥å¾—åˆ°çš„é”šç‚¹ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ARKitçš„ç©ºé—´ä¸­ç»˜åˆ¶ä¸€ä¸ª3Då¹³é¢ã€‚åˆ›å»ºä¸€ä¸ªPlanceç±»ï¼Œç»§æ‰¿è‡ªSCNNodeæ¥ç®¡ç†éœ€è¦æ¸²æŸ“çš„å¹³é¢ï¼Œç„¶ååˆ›å»ºSCNGeometryå­ç±»SCNPlaneçš„å¯¹è±¡ï¼Œå¯ä»¥ç”¨è¯¥å¯¹è±¡åˆ›å»ºå¹³é¢å¯¹åº”çš„SCNNodeã€‚åœ¨æ„é€ æ–¹æ³•ä¸­åˆ›å»ºå¹³é¢å¹¶è°ƒæ•´å…¶å¤§å°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">init(_ anchor: ARPlaneAnchor) &#123;</div><div class="line">	...</div><div class="line">	// ç”¨ARPlaneAnchorçš„å°ºå¯¸æ¥åˆ›å»º3Då¹³é¢å‡ ä½•ä½“</div><div class="line">	let plane = SCNPlane(width: CGFloat(anchor.extent.x - 0.05), height: CGFloat(anchor.extent.z - 0.05))</div><div class="line">	let material = SCNMaterial()</div><div class="line">	material.colorBufferWriteMask = []</div><div class="line">	material.isDoubleSided = true</div><div class="line">	plane.materials = [material]</div><div class="line"></div><div class="line">	planeNode = SCNNode()</div><div class="line">	planeNode!.geometry = plane</div><div class="line">	// SceneKit é‡Œçš„å¹³é¢é»˜è®¤æ˜¯å‚ç›´çš„ï¼Œæ‰€ä»¥éœ€è¦æ—‹è½¬90åº¦æ¥åŒ¹é… ARKit ä¸­çš„å¹³é¢</div><div class="line">	planeNode!.transform = SCNMatrix4MakeRotation(-Float.pi / 2.0, 1, 0, 0)</div><div class="line">	// å°†å¹³é¢planeç§»åŠ¨åˆ°ARKitå¯¹åº”çš„ä½ç½®</div><div class="line">	planeNode!.position = SCNVector3Make(anchor.center.x, -0.01, anchor.center.z)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç„¶ååœ¨ARSCNViewDelegateçš„å›è°ƒæ–¹æ³•ä¸­ï¼Œæ¯æ¬¡æ‰«æåˆ°æ–°çš„ARAnchoræ—¶éƒ½å¯ä»¥åˆ›å»ºæ–°çš„å¹³é¢ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">func renderer(_ renderer: SCNSceneRenderer, didAdd node: SCNNode, for anchor: ARAnchor) &#123;</div><div class="line">    DispatchQueue.main.async &#123;</div><div class="line">        if let planeAnchor = anchor as? ARPlaneAnchor &#123;</div><div class="line">          let plane = Plane(anchor)</div><div class="line">      node.addChildNode(plane)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="æ›´æ–°å¹³é¢"><a href="#æ›´æ–°å¹³é¢" class="headerlink" title="æ›´æ–°å¹³é¢"></a>æ›´æ–°å¹³é¢</h4><p>ä¸Šè¿°åˆ›å»ºæ¸²æŸ“çš„å¹³é¢åªä¼šä¿æŒåˆ›å»ºæ—¶çš„å¤§å°ï¼Œç„¶åç°å®ä¸–ç•Œçš„å¹³é¢å¯èƒ½æ¯”åˆ›å»ºåˆå§‹åŒ–çš„å¤§å¾ˆå¤šï¼Œè‹¥éœ€è¦æ›´æ–°å¹³é¢çš„å¤§å°ï¼Œéœ€è¦æ›´æ–°å¹³é¢çš„extent(èŒƒå›´)å€¼ã€‚</p>
<p>å¯ä»¥ä»ARSCNViewDelegateçš„ä»£ç†æ–¹æ³•ä¸­è·å–åˆ°æ›´æ–°çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">func renderer(_ renderer: SCNSceneRenderer, didUpdate node: SCNNode, for anchor: ARAnchor) &#123;</div><div class="line">    DispatchQueue.main.async &#123;</div><div class="line">        if let planeAnchor = anchor as? ARPlaneAnchor &#123;</div><div class="line">         plane.update(anchor)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç„¶ååœ¨Planeç±»çš„updateæ–¹æ³•é‡Œï¼Œæ›´æ–°planeçš„å®½é«˜ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">func update(_ anchor: ARPlaneAnchor) &#123;</div><div class="line">	plane.width = CGFloat(anchor.extent.x - 0.05)</div><div class="line">	plane.height = CGFloat(anchor.extent.z - 0.05)</div><div class="line">	// æ›´æ–°ä½ç½®</div><div class="line">	plane.position = SCNVector3Make(anchor.center.x, -0.01, anchor.center.z)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://dragonfly.com/2017/09/08/ARKit-Add-3d-Content/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DragonFly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DragonFlyçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/08/ARKit-Add-3d-Content/" itemprop="url">ARKitä¸Šæ‰‹æŒ‡å— 01 æ·»åŠ 3Dç‰©ä½“</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-09-08T12:56:22+08:00">
                2017-09-08
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/08/ARKit-Add-3d-Content/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/08/ARKit-Add-3d-Content/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>ARKitæ˜¯2017å¹´6æœˆ6æ—¥ï¼Œè‹¹æœå‘å¸ƒçš„iOS11ç³»ç»Ÿæ‰€æ–°å¢çš„æ¡†æ¶,å®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ä»¥æœ€ç®€å•å¿«æ·çš„æ–¹å¼å®ç°ARæŠ€æœ¯åŠŸèƒ½ã€‚è€Œä¸”ARKitæ¡†æ¶å¯¹åŸºäº3Dåœºæ™¯(SceneKit)å’Œ2Dåœºæ™¯(SpriteKit)çš„å¢å¼ºç°å®éƒ½æä¾›äº†æ”¯æŒã€‚</p>
<h4 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h4><ol>
<li>Xcodeç‰ˆæœ¬ï¼š Xcode9ä»¥ä¸Š<br>Xcode 9 Betaï¼š<a href="https://developer.apple.com/download/" target="_blank" rel="external">https://developer.apple.com/download/</a><br>ä¸‹è½½æœ€æ–°çš„betaç‰ˆæœ¬å°±å¯ä»¥äº†ï¼Œä¸è¿‡Xcodeéœ€è¦Mac 10.12.4åŠä»¥ä¸Šçš„ç‰ˆæœ¬ã€‚  </li>
<li>iOSç³»ç»Ÿï¼š iOS11ä»¥ä¸Š</li>
<li>iOSè®¾å¤‡ï¼š A9/A10å¤„ç†å™¨çš„iOSè®¾å¤‡ï¼Œå³iPhone6sã€iPad2017åŠä»¥ä¸Šçš„è®¾å¤‡</li>
</ol>
<h4 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h4><p>é¦–å…ˆæ‰“å¼€Xcodeï¼Œé€‰æ‹©ARKitæ¨¡æ¿ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š  </p>
<p><img src="http://ojca2gwha.bkt.clouddn.com/ARKit_1Project.png" alt="ARé¡¹ç›®åˆ›å»º"></p>
<p>ä¹‹åï¼Œå¡«å†™å®Œé¡¹ç›®ä¿¡æ¯åï¼Œé€‰æ‹©Content Technologyä¸ºSceneKitï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©SpriteKitï¼Œä¸è¿‡åœ¨3Dç©ºé—´ä¸­å°±ä¸æ˜¯é‚£ä¹ˆç«‹ä½“äº†ã€‚<br>å¼€å‘è¯­è¨€é€‰æ‹©Swiftï¼ŒSwiftå¤©ç„¶äº²å’ŒARKitï¼Œå¾ˆå¤šç½‘ä¸Šçš„Demoéƒ½æ˜¯ç”¨Swiftå†™çš„ï¼Œè¿™æ ·ä¹Ÿæ–¹ä¾¿ç§»æ¤å’Œå€Ÿé‰´ã€‚<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/09/08/ARKit-Add-3d-Content/#more" rel="contents">
              é˜…è¯»å…¨æ–‡ &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://dragonfly.com/2017/09/07/ollvm-in-iOS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DragonFly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DragonFlyçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/07/ollvm-in-iOS/" itemprop="url">iOSæ··æ·†--OLLVMåœ¨iOSä¸­çš„å®è·µ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-09-07T12:15:18+08:00">
                2017-09-07
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/07/ollvm-in-iOS/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/07/ollvm-in-iOS/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h3 id="OLLVMç®€ä»‹"><a href="#OLLVMç®€ä»‹" class="headerlink" title="OLLVMç®€ä»‹"></a>OLLVMç®€ä»‹</h3><p><a href="https://github.com/obfuscator-llvm/obfuscator" target="_blank" rel="external">OLLVMï¼ˆObfuscator-LLVMï¼‰</a>æ˜¯ç‘å£«è¥¿åŒ—åº”ç”¨ç§‘æŠ€å¤§å­¦å®‰å…¨å®éªŒå®¤äº2010å¹´6æœˆä»½å‘èµ·çš„ä¸€ä¸ªé¡¹ç›®ï¼Œè¯¥é¡¹ç›®æ—¨åœ¨æä¾›ä¸€å¥—å¼€æºçš„é’ˆå¯¹LLVMçš„ä»£ç æ··æ·†å·¥å…·ï¼Œä»¥å¢åŠ å¯¹é€†å‘å·¥ç¨‹çš„éš¾åº¦ã€‚åæœŸè½¬å‘å•†ä¸šé¡¹ç›®<a href="http://link.zhihu.com/?target=https%3A//strong.codes/" target="_blank" rel="external">strong.protect</a>ã€‚ç›®å‰ï¼ŒOLLVMå·²ç»æ”¯æŒLLVM-4.0ç‰ˆæœ¬ã€‚</p>
<p>LLVMæ˜¯ä¸€ä¸ªä¼˜ç§€çš„ç¼–è¯‘å™¨æ¡†æ¶ï¼Œå®ƒä¹Ÿé‡‡ç”¨ç»å…¸çš„ä¸‰æ®µå¼è®¾è®¡ã€‚å‰ç«¯å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç¼–è¯‘å·¥å…·å¯¹ä»£ç æ–‡ä»¶åšè¯æ³•åˆ†æä»¥å½¢æˆæŠ½è±¡è¯­æ³•æ ‘ASTï¼Œç„¶åå°†åˆ†æå¥½çš„ä»£ç è½¬æ¢æˆLLVMçš„ä¸­é—´è¡¨ç¤ºIRï¼ˆintermediate representationï¼‰ï¼›ä¸­é—´éƒ¨åˆ†çš„ä¼˜åŒ–å™¨åªå¯¹ä¸­é—´è¡¨ç¤ºIRæ“ä½œï¼Œé€šè¿‡ä¸€ç³»åˆ—çš„Passå¯¹IRåšä¼˜åŒ–ï¼›åç«¯è´Ÿè´£å°†ä¼˜åŒ–å¥½çš„IRè§£é‡Šæˆå¯¹åº”å¹³å°çš„æœºå™¨ç ã€‚LLVMçš„ä¼˜ç‚¹åœ¨äºï¼Œä¸­é—´è¡¨ç¤ºIRä»£ç ç¼–å†™è‰¯å¥½ï¼Œè€Œä¸”ä¸åŒçš„å‰ç«¯è¯­è¨€æœ€ç»ˆéƒ½è½¬æ¢æˆåŒä¸€ç§çš„IRã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1944396-3ce371d488ad67ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>LLVM IR æ˜¯LLVMçš„ä¸­é—´è¡¨ç¤ºï¼Œä¼˜åŒ–å™¨å°±æ˜¯å¯¹IRè¿›è¡Œæ“ä½œçš„ï¼Œå…·ä½“çš„ä¼˜åŒ–æ“ä½œç”±ä¸€äº›åˆ—çš„Passæ¥å®Œæˆï¼Œå½“å‰ç«¯ç”Ÿæˆåˆçº§IRåï¼ŒPassä¼šä¾æ¬¡å¯¹IRè¿›è¡Œå¤„ç†ï¼Œæœ€ç»ˆç”Ÿæˆåç«¯å¯ç”¨çš„IRã€‚ä¸‹å›¾å¯ä»¥è¯´æ˜è¿™ä¸ªè¿‡ç¨‹ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1944396-20cd55c8ee11762d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>OLLVMçš„æ··æ·†æ“ä½œå°±æ˜¯åœ¨ä¸­é—´è¡¨ç¤ºIRå±‚ï¼Œé€šè¿‡ç¼–å†™Passæ¥æ··æ·†IRï¼Œç„¶ååç«¯ä¾æ®IRæ¥ç”Ÿæˆçš„ç›®æ ‡ä»£ç ä¹Ÿå°±è¢«æ··æ·†äº†ã€‚å¾—ç›ŠäºLLVMçš„è®¾è®¡ï¼ŒOLLVMé€‚ç”¨LLVMæ”¯æŒçš„æ‰€æœ‰è¯­è¨€ï¼ˆC,C++,Objective-C,Ada,Fortranï¼‰å’Œç›®æ ‡å¹³å°ï¼ˆx86,x86-64,PowerPC,PowerPC-64, ARM, Thumb, SPARC, Alpha, CellSPU, MIPS, MSP430, SystemZ, å’Œ XCoreï¼‰<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/09/07/ollvm-in-iOS/#more" rel="contents">
              é˜…è¯»å…¨æ–‡ &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-ARKit" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://dragonfly.com/2017/06/28/ARKit-startup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DragonFly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DragonFlyçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/28/ARKit-startup/" itemprop="url">ARKitå…¥å‘æŒ‡å—--æŠ€æœ¯å®ç°åˆ†æ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-06-28T01:16:11+08:00">
                2017-06-28
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/06/28/ARKit-startup/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/06/28/ARKit-startup/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h3 id="ARKitç®€ä»‹"><a href="#ARKitç®€ä»‹" class="headerlink" title="ARKitç®€ä»‹"></a>ARKitç®€ä»‹</h3><p>  iOS11å‘å¸ƒäº†ARKitä¹‹åï¼ŒiPhoneç¬é—´å˜æˆäº†æœ€å¤§çš„ARå¹³å°ã€‚ä¸€ç›´ä»¥æ¥å¯¹è¿™å—éƒ½æ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œæœ€è¿‘ç®€å•åšäº†äº›ç ”ç©¶ï¼Œä¸‹é¢ä»‹ç»ä¸‹ARKitåŸºç¡€çš„ä¸€äº›æ¦‚å¿µï¼Œç®—æ˜¯å½“ä½œå…¥å‘è·¯å¾„å§ã€‚<br>  ARKitæ˜¯ä¸€ç§ä¸ºiOSæ„å»ºå¢å¼ºç°å®ï¼ˆARï¼Œaugmented realityï¼‰Appçš„æ¡†æ¶ï¼Œæ„åœ¨å®ç°å°†è™šæ‹Ÿå†…å®¹ç²¾ç¡®ä¸”çœŸå®åœ°æµ¸å…¥çœŸå®ä¸–ç•Œåœºæ™¯ä¸Šã€‚ARKitçš„æ ¸å¿ƒæ˜¯ä¸ºä¸€äº›åŸºæœ¬çš„å…³é”®åŠŸèƒ½æä¾›æ”¯æŒï¼ŒåŒ…æ‹¬è¿åŠ¨è·Ÿè¸ªã€æ°´å¹³é¢æ£€æµ‹ï¼Œä»¥åŠå°ºåº¦å’Œç¯å¢ƒå…‰é¢„æµ‹ã€‚<br>  æœ‰äº›äººè®¤ä¸ºARKitæ˜¯ä¸€ç§SLAMå®ç°ï¼Œä¹Ÿæœ‰äººè®¤ä¸ºæ˜¯VIOã€‚ä¸‹é¢åˆ†åˆ«ç®€å•ä»‹ç»ä¸‹å¯¹ARKitçš„æŠ€æœ¯å®ç°æ–¹å¼çš„ä¸åŒç†è§£ã€‚</p>
<h4 id="1-Slamçš„æ¦‚å¿µ"><a href="#1-Slamçš„æ¦‚å¿µ" class="headerlink" title="1.Slamçš„æ¦‚å¿µ"></a>1.Slamçš„æ¦‚å¿µ</h4><p>  SLAMï¼Œå…¨ç§°å«åšSimultaneous Localization and Mappingï¼Œä¸­æ–‡å«åšåŒæ—¶å®šä½ä¸å»ºå›¾ã€‚å°±æ˜¯é€šè¿‡ä¼ æ„Ÿå™¨è·å–ç¯å¢ƒçš„æœ‰é™ä¿¡æ¯ï¼Œæ¯”å¦‚è§†è§‰ä¿¡æ¯ã€æ·±åº¦ä¿¡æ¯ã€è‡ªèº«çš„åŠ é€Ÿåº¦å’Œè§’é€Ÿåº¦ç­‰æ¥ç¡®å®šè‡ªå·±çš„ç›¸å¯¹æˆ–è€…ç»å¯¹ä½ç½®ï¼Œå¹¶å®Œæˆå¯¹äºåœ°å›¾çš„æ„å»ºã€‚ç®€å•ç‚¹å¯ä»¥è¯´æ˜¯ä¸€ä¸ªä¼ æ„Ÿå™¨åœ¨ä¸åœçš„è¿åŠ¨ï¼Œè¿˜åœ¨å®æ—¶çš„æ‰«æç€å‘¨å›´çš„åœ°å½¢ã€‚<br>  ä¸å…¶è¯´SLAMæ˜¯ä¸€ç§æŠ€æœ¯ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ç§æ¦‚å¿µï¼ŒSLAMå¯é€šè¿‡å¤šç§æ–¹æ³•å®ç°ã€‚</p>
<p>  è¦å®ç°SLAMï¼Œæœ€åŸºç¡€å°±æ˜¯ä¼ æ„Ÿå™¨ï¼Œç›®å‰ä¼ æ„Ÿå™¨åˆ†ä¸ºæ¿€å…‰å’ŒVSLAMä¸¤å¤§ç±»ã€‚æ¿€å…‰é›·è¾¾ç”±äºç²¾åº¦é«˜ã€é€Ÿåº¦å¿«ï¼Œèƒ½æ–¹ä¾¿åœ°å®ç°SLAMåŠŸèƒ½è€Œè¢«ç ”ç©¶å¾—æœ€å¤šï¼Œä¸»è¦ç”¨äºæœºå™¨äººåŠæ— äººè½¦ï¼ˆæœºï¼‰é¢†åŸŸï¼Œä½†ç¼ºç‚¹å°±æ˜¯ä»·æ ¼æ˜‚è´µã€‚<br>  è€ŒVSLAMåˆ™ä¸»è¦ç”¨æ‘„åƒå¤´æ¥å®ç°ï¼Œæ‘„åƒå¤´å“ç§ç¹å¤šï¼Œä¸»è¦åˆ†ä¸ºå•ç›®ã€åŒç›®ï¼ˆæˆ–å¤šç›®ï¼‰ã€RGBDã€‚å®ç°éš¾åº¦æ­£åºï¼šå•ç›®è§†è§‰&gt;åŒç›®è§†è§‰&gt;RGBDã€‚  å•ç›®è§†è§‰å› ä¸ºåŸºäºä¸€ä¸ªæ‘„åƒå¤´ï¼Œåœ¨æ·±åº¦æ„ŸçŸ¥ä¸Šå­˜åœ¨é—®é¢˜ï¼Œæ— æ³•å¾—åˆ°æœºå™¨äººçš„è¿åŠ¨è½¨è¿¹åŠåœ°å›¾çš„çœŸå®å¤§å°ï¼Œä½†è¿™ä¹Ÿä½¿å¾—å•ç›®SLAMä¸å—ç¯å¢ƒå¤§å°çš„å½±å“ï¼Œæ—¢å¯ç”¨äºå®¤å†…ï¼Œåˆå¯ç”¨äºå®¤å¤–ã€‚</p>
<p>  ç›®å‰ï¼ŒSLAMæŠ€æœ¯çš„å®ç°é€”å¾„ä¸»è¦åŒ…æ‹¬VSLAMã€Wifi-SLAMä¸Lidar SLAMã€‚</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/06/28/ARKit-startup/#more" rel="contents">
              é˜…è¯»å…¨æ–‡ &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://dragonfly.com/2017/04/01/iOS-code-obfuscate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DragonFly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DragonFlyçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/01/iOS-code-obfuscate/" itemprop="url">iOSä»£ç åŠ å›º</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-04-01T01:11:18+08:00">
                2017-04-01
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/04/01/iOS-code-obfuscate/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/04/01/iOS-code-obfuscate/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>ä¼—æ‰€å‘¨çŸ¥çš„æ˜¯å¤§éƒ¨åˆ†iOSä»£ç ä¸€èˆ¬ä¸ä¼šåšåŠ å¯†åŠ å›ºï¼Œå› ä¸ºiOS APPä¸€èˆ¬æ˜¯é€šè¿‡AppStoreå‘å¸ƒçš„ï¼Œè€Œä¸”è‹¹æœçš„ç³»ç»Ÿéš¾ä»¥æ”»ç ´ï¼Œæ‰€ä»¥åœ¨iOSé‡Œåšä»£ç åŠ å›ºä¸€èˆ¬æ˜¯ä¸€ä»¶å‡ºåŠ›ä¸è®¨å¥½çš„äº‹æƒ…ã€‚ä¸‡äº‹çš†æœ‰ä¾‹å¤–ï¼Œä¸ç®¡iOSã€adrè¿˜æ˜¯jsï¼ŒåŠ å¯†çš„ç›®çš„æ˜¯ä¸ºäº†ä»£ç çš„å®‰å…¨æ€§ï¼Œè™½ç„¶ç°åœ¨å¼€æºç•…è¡Œï¼Œä½†æ˜¯ä¸ç®¡ä¸ªäººå¼€å‘è€…è¿˜æ˜¯å¤§å‚çš†æœ‰ä¿æŠ¤ä»£ç å®‰å…¨çš„éœ€æ±‚ï¼Œæ‰€ä»¥iOSä»£ç åŠ å›ºæœ‰äº†ç”Ÿå­˜çš„åœŸå£¤ã€‚ä¸‹é¢ç®€å•ä»‹ç»ä¸‹iOSä»£ç åŠ å¯†çš„å‡ ç§æ–¹å¼ã€‚</p>
<h3 id="iOSä»£ç åŠ å¯†çš„å‡ ç§æ–¹å¼"><a href="#iOSä»£ç åŠ å¯†çš„å‡ ç§æ–¹å¼" class="headerlink" title="iOSä»£ç åŠ å¯†çš„å‡ ç§æ–¹å¼"></a>iOSä»£ç åŠ å¯†çš„å‡ ç§æ–¹å¼</h3><h4 id="1-å­—ç¬¦ä¸²åŠ å¯†"><a href="#1-å­—ç¬¦ä¸²åŠ å¯†" class="headerlink" title="1.å­—ç¬¦ä¸²åŠ å¯†"></a>1.å­—ç¬¦ä¸²åŠ å¯†</h4><p>  å­—ç¬¦ä¸²ä¼šæš´éœ²APPçš„å¾ˆå¤šå…³é”®ä¿¡æ¯ï¼Œæ”»å‡»è€…å¯ä»¥æ ¹æ®ä»ç•Œé¢è·å–çš„å­—ç¬¦ä¸²ï¼Œå¿«é€Ÿæ‰¾åˆ°ç›¸å…³é€»è¾‘çš„å¤„ç†å‡½æ•°ï¼Œä»è€Œè¿›è¡Œåˆ†æç ´è§£ã€‚åŠ å¯†å­—ç¬¦ä¸²å¯ä»¥å¢åŠ æ”»å‡»è€…é˜…è¯»ä»£ç çš„éš¾åº¦ä»¥åŠæ ¹æ®å­—ç¬¦ä¸²é™æ€æœç´¢çš„éš¾åº¦ã€‚<br>  ä¸€èˆ¬çš„å¤„ç†æ–¹å¼æ˜¯å¯¹éœ€è¦åŠ å¯†çš„å­—ç¬¦ä¸²åŠ å¯†ï¼Œå¹¶ä¿å­˜åŠ å¯†åçš„æ•°æ®ï¼Œå†åœ¨ä½¿ç”¨å­—ç¬¦ä¸²çš„åœ°æ–¹æ’å…¥è§£å¯†ç®—æ³•ã€‚ç®€å•çš„åŠ å¯†ç®—æ³•å¯ä»¥æŠŠNSStringè½¬ä¸ºbyteæˆ–è€…NSDataçš„æ–¹å¼ï¼Œè¿˜å¯ä»¥æŠŠå­—ç¬¦ä¸²æ”¾åˆ°åç«¯æ¥è¿”å›ï¼Œå°½é‡å°‘çš„æš´éœ²é¡µé¢ä¿¡æ¯ã€‚ä¸‹é¢ä¸¾ä¸ªç®€å•ä¾‹å­ï¼ŒæŠŠNSStringè½¬ä¸º16è¿›åˆ¶çš„å­—ç¬¦ä¸²ï¼š   </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">+ (NSString *)globalString &#123;    </div><div class="line">  return   @&quot;5f48494748203d20323b202020202020202020202020202020202020202020202020202020202020676c6f62616c2e44495350415443485f51554555455f5052494f524954595f44454641554c54203d20303b2020202020202020202020202020202020202020202020202&quot;;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/04/01/iOS-code-obfuscate/#more" rel="contents">
              é˜…è¯»å…¨æ–‡ &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://dragonfly.com/2017/03/28/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="DragonFly">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DragonFlyçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/28/hello-world/" itemprop="url">Hello World ä¹‹ Hexoçš„ä½¿ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-03-28T01:16:11+08:00">
                2017-03-28
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/03/28/hello-world/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/03/28/hello-world/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>Hexoæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexoä½¿ç”¨Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚<br>æœ¬æ–‡å°†æŒç»­è®°å½•ä¸€äº›hexoä½¿ç”¨æ–¹æ³•å’Œå¸¸è§é”™è¯¯çš„è§£å†³æ–¹å¼ã€‚</p>
<h3 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h3><p>å®‰è£…Hexoå‰ï¼Œé¦–å…ˆéœ€è¦åœ¨ç”µè„‘ä¸Šå®‰è£…gitå’ŒNode.jsã€‚</p>
<p>Nodeå®‰è£…ï¼š<br>æœ€ä½³æ–¹å¼æ˜¯ä½¿ç”¨nvm<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ curl https://raw.github.com/creationix/nvm/master/install.sh | sh</div></pre></td></tr></table></figure></p>
<p>å®‰è£…å®Œnvmåï¼Œæ‰§è¡Œä¸€ä¸‹å‘½ä»¤å®‰è£…Node<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ nvm install stable</div></pre></td></tr></table></figure></p>
<p>Hexoå®‰è£…ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install -g hexo-cli</div></pre></td></tr></table></figure></p>
<h3 id="å»ºç«™"><a href="#å»ºç«™" class="headerlink" title="å»ºç«™"></a>å»ºç«™</h3><p>å®‰è£… Hexo å®Œæˆåæ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ŒHexoå°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ hexo init &lt;folder&gt;</div><div class="line">$ cd &lt;folder&gt;</div><div class="line">$ npm install</div></pre></td></tr></table></figure></p>
<h3 id="æ–°å»ºä¸€ç¯‡æ–‡ç« "><a href="#æ–°å»ºä¸€ç¯‡æ–‡ç« " class="headerlink" title="æ–°å»ºä¸€ç¯‡æ–‡ç« "></a>æ–°å»ºä¸€ç¯‡æ–‡ç« </h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server //hexo s</div></pre></td></tr></table></figure>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/03/28/hello-world/#more" rel="contents">
              é˜…è¯»å…¨æ–‡ &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image"
              src="/uploads/avatar.jpeg"
              alt="DragonFly" />
          
            <p class="site-author-name" itemprop="name">DragonFly</p>
            <p class="site-description motion-element" itemprop="description">iOSå¼€å‘ã€ReactNativeå¼€å‘ã€AR</p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/fighting300" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:fighting300@163.com" target="_blank" title="E-Mail">
                  
                    <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">DragonFly</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://dragonfly-1.disqus.com/count.js" async></script>
    

    

  




	





  










  





  

  

  

  

  

  

</body>
</html>
