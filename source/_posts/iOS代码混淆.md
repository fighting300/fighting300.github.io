##iOS混淆

众所周知的是大部分iOS代码一般不需要混淆，因为iOS APP一般是通过AppStore发布的，而且苹果的系统难以攻破，所以在iOS里做代码混淆一般是一件出力不讨好的事情。万事皆有例外，不管iOS、adr还是js，混淆的目的是为了代码的安全性，虽然现在开源畅行，但是不管个人开发者还是大厂皆有保护代码安全的需求，所以iOS代码混淆有了生存的土壤。下面简单介绍下iOS代码混淆的几种方式。

iOS代码混淆的几种方式：
1.编译前混淆  
  a.别名
  在编写代码的时候直接用别名可能是最简单的一种方式，也是比较管用的一种方式。因为你的app被破解后，假如很容易就能从你的类名中寻找到蛛丝马迹，那离hook只是一步之遥，之前微信抢红包的插件应该就是用hook的方式执行的。
  
  b.C重写
  编写别名的方式不是很易读，而且也不利于后续维护，这时你可能需要升级一下你的保护方式，用C来重写你的代码吧。这样把函数名隐藏在结构体中，用函数指针成员的形式存储，编译后，只留下了地址，去掉了名字和参数表，让他们无从下手(copy from 念茜)。 
  
  ```
  typedef struct _util {  
    BOOL (*doTrade)(void);  
    BOOL (*makeDeal)(void);  
	 void (*transferMoney)(NSString *password);  
   }FTradeUtil_t ;  
  
  #define FTradeUtil ([_FTradeUtil sharedUtil])  
  
  @interface _FTradeUtil : NSObject  
  
  + (FTradeUtil_t *)sharedUtil;  
	
  @end  

  ```
  c.脚本处理
  稍微高级一点的是脚本扫描处理替换代码，因为要用到linux命令来编写脚本，可能会有一点门槛，不过学了之后你就可以出去吹嘘你全栈工程师的名头啦。。。
  linux脚本比较常用的几个命令如下：
  grep
  sed
  awk
  脚本混淆替换是用上述几个命令扫描出来需要替换的字符串，比如方法名，类名，变量名，并坐替换，如果你能熟练应用上述几个命令，恭喜你，已经了解了脚本的一点皮毛了。

2.编译中混淆
  编译中混淆是高级混淆方式
  
3.编译后混淆
  adr中一般比较常见的加固等操作，iOS也有一些第三方提供这样的服务，但是没有真正使用过，不知道效果如何。
  
  iOS混淆可能市场很小，但是存在必有道理，在越狱/开源/极客的眼中，你的APP并没有你想像的那么安全，如果希望你的代码更加安全，在闲暇的精力之外，可以小做研究，说不准你在哪天就会用到它。


